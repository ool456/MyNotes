1. 根据提供给用户的存储结构进行归类，云存储可分为“非可管理型云存储“与”可管理型云存储“

   1. 非可管理性呈现一个可以立即使用的磁盘驱动器，面向普通用户；`限定了存储容量和使用方式使用成本低，操作简单`
   2. 可管理型则需要对原生虚拟化磁盘进行配置，面向开发人员，`将存储空间呈现为原生磁盘，提供给用户进行配置和管理`

2. 云存储设备可以是块存储设备、文件存储设备或者对象存储设备

   1. 块存储设备对于客户端相当于`原始存储`，可以被分区以创建卷，由操作系统创建和管理文件系统，传输单位是块。

   2. 文件存储设备采用网络附加存储的形式（NAS）,NAS维护自己的文件系统，以文件形式提供给客户；

      > 块存储可以提高更快的传输速度，但客户端有额外开销
      >
      > 面向文件存储设备通常很慢，但建立链接时客户端开销小

   3. 对象存储兼具块存储高速访问以及文件存储分布式共享特点

      > 由元数据服务器、存储节点、客户端构成
      >
      > 元数据服务器MDS：管理文件的存储位置、状态
      >
      > 存储节点OSD：复制文件数据存储
      >
      > 客户端：负责对外接口访问

      > 数据通路（读写）与控制通路（元数据）分离

   ## 云存储系统架构

   1. 从底层到上依次为：数据存储层、数据管理层、数据服务层、用户访问层

![1545875998192](/tmp/1545875998192.png)

## 磁盘驱动器接口

磁盘接口对整体性能有直接影响

存储设备主要分为三种：高端、中端、近线

高端：FC（光纤通道）磁盘

> 应用于关键数据的大容量实时存储

中端：SCSI、SAS（串行连接SCSI）

> 商业级的关键数据的大容量实时存储

近线：SATA磁盘存储

> 非关键数据的大容量存储，目的是替代以前的磁带备份

## 存储架构

###　概览

DAS直连存储

> 直接将存储设备通过总线适配器和电缆（SCSI、FC）直接连接到服务器的架构
>
> DAS依赖于服务器，本身不带有存储操作系统
>
> 数据和操作系统未分离
>
> 只能被一台计算机连接，无法实现共享

NAS附网存储

> 以数据为中心的数据存储模式
>
> 不同于das附着于固定的服务器，它完全独立于网络中的主服务器，并且允许客户机于存储设备间直接进行数据访问
>
> NAS是可以直接连接到网络上向用户提供文件级服务的存储设备
>
> 一个NAS包括：处理器、内存、网卡、文件服务管理模块、用于存储的硬盘驱动器
>
> > 以文件I/O方式进行数据传输，基于现有的LAN构建，按照TCP/IP等协议通信

SAN存储区域网络

> 指的是通过一个专用的网络把存储设备和TCP/IP局域网上的服务器集群相连接
>
> SAN独立于传统局域网，通过网关设备和局域网相连接，传输速率极高，并且可以跨不同存储设备和服务器以及不同网络与不同平台
>
> > SAN存储架构以FC光纤网络位基础，实现存储设备共享，突破距离和容量限制
>
> 数据传输方式为块传输，基于专用的光纤通道网络构建

DFS分布式文件系统

> 文件系统从宏观可分为本地文件系统（LFS）和分布式文件系统（DFS）

##　数据保护技术

1. 备份技术

   > 分为离线备份与在线备份

2. 镜像技术

3. 快照技术

4. 持续数据保护

   > 捕捉一切文件级或数据块级别的数据写，改动，可以恢复到任意时间点。

##　数据备份

作为存储系统中最重要的应用之一，是保护数据的关键手段

### 备份策略

> 完全备份
>
> > 拷贝整个文件系统到备份设备
> >
> > > 缺点：存在大量重复数据、数据量大、备份时间长
>
> 增量备份
>
> > 在完全备份的基础上仅仅拷贝新生或者修改的文件
> >
> > > 不存在重复数据、节省空间，但恢复数据会较麻烦
>
> 差量备份
>
> > 拷贝所有新数据，新数据指的是“上一次完全备份后产生或更新的”
> >
> > > 与完全备份比备份时间短并节省空间
> > >
> > > 与增量备份比，数据恢复方便
>
> 增量与差量区别
>
> 增量备份记录上一次完全备份或增量备份以来的更新数据
>
> 差量备份记录上一次完全备份以来的所有更新数据

## 硬盘

磁盘片表面称为盘面。

磁盘片表面上以磁盘片中心为圆心，不同半径的同心圆称为磁道。

不同磁盘片相同半径的磁道所组成的圆柱称为柱面。

磁盘片被分成许多扇形的区域，每个区域叫一个扇区。